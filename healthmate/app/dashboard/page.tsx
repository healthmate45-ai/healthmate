"use client";
import { useEffect,useState } from 'react';
import { LineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip, ResponsiveContainer, BarChart, Bar } from 'recharts';
export default function DashboardPage(){ const [metrics,setMetrics]=useState([]); useEffect(()=>{ fetch('/api/metrics?user_id=test-1').then(r=>r.json()).then(d=>setMetrics(d||[])); },[]); return (<div style={{padding:40}}><h1>ğŸ“Š Health Dashboard</h1><div style={{marginBottom:40}}><h2>Weight Over Time</h2><div style={{width:'100%',height:300}}><LineChart width={800} height={300} data={metrics}><CartesianGrid stroke="#ccc" /><XAxis dataKey="day"/><YAxis/><Tooltip/><Line type="monotone" dataKey="weight_kg" stroke="#8884d8"/></LineChart></div></div><div style={{marginBottom:40}}><h2>Steps Per Day</h2><div style={{width:'100%',height:300}}><BarChart width={800} height={300} data={metrics}><CartesianGrid stroke="#ccc"/><XAxis dataKey="day"/><YAxis/><Tooltip/><Bar dataKey="steps" fill="#82ca9d"/></BarChart></div></div><div><h2>Sleep Hours</h2><div style={{width:'100%',height:300}}><LineChart width={800} height={300} data={metrics}><CartesianGrid stroke="#ccc"/><XAxis dataKey="day"/><YAxis/><Tooltip/><Line type="monotone" dataKey="sleep_hours" stroke="#ff7300"/></LineChart></div></div></div>); }
